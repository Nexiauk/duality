<!-- Template for editing a user's profile.
Extends the base layout, uses crispy forms for styling,
and includes CSRF protection. Shows user and profile forms
with a submit button. -->

{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% load allauth account %}
{% block title %}
Edit Profile
{% endblock title %}

{% block content %}

    <section class="mt-3 mb-3 mx-auto p-md-4">
        <div class="glassmorphic p-5 pt-4 pb-4">
            <!-- Page heading showing the user's display name -->
            <h2 class="mb-4 heading">Edit {{ user.get_display_name|default:user.username }}'s Profile</h2>
                <p class="mb-4">Edit your profile details</p>
              <!-- Profile edit form with CSRF token and hidden redirect field if present -->
              <form id="edit-profile-form" method="post">
                {% csrf_token %}
                {{ userform | crispy }}
                {{ profileform | crispy }}
                {% if redirect_field_value %}
                <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                {% endif %}
                <button class="btn account-button mt-2" type="submit"><span class="unskew">Submit &raquo;</span></button>
              </form>
        </div>
    </section>
    {% endblock content %}